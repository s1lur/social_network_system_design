# Описание схемы хранения данных
- Все данные кроме фотографий и сообщений храним в реляционной бд
- Используем шардирование по пользователям (для каждого пользователя его посты будут храниться в его же шарде) и для каждого шарда будем использовать master-slave репликацию
- Для хранения фотографий используем S3 и CDN, на CDN используем политику LFU, чтобы отдавать приоритет более популярным постам
- Сообщения храним в документоориентированной бд (например, MongoDB), используем шардирование и охлаждение старых сообщений (сжимаем и храним в s3 на hdd)